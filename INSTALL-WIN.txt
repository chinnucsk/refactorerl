RefactorErl 0.2
Installation instructions on Windows


1.  First make  sure that  all  required software  components are  properly
installed and working:

  - Erlang/OTP R11B (http://www.erlang.org/download.html)
  - GNU Emacs 21    (ftp://ftp.gnu.org/gnu/emacs/windows/)
  - MySQL 5.0       (http://dev.mysql.com/downloads/mysql/5.0.html)

Newer versions will most probably work, older versions have not been tried.

2. Unpack the  RefactorErl release (probably you have  already done that if
you are reading this file),  we will refer to the resulting RefactorErl-VER
directory as the "base directory".
  
3.  Create a  dedicated MySQL  database for  the refactorer,  and set  up a
database user  to access it. Refer  to the MySQL documentation  to find out
details on how  to do that, but  if you don't care about  the details, here
are the commands you need to type at the MySQL command line:

  create database parse;
  grant all on parse.* to 'USER'@localhost identified by 'PASSWORD';

where  USER and  PASSWORD are  your choices  of a  username and  a suitable
password.

4. Update the  file "db.config" in the base directory  using a text editor,
fill in the username and password you entered in the previous step. You may
update the name of the database as well.

5. Check the path settings at  the beginning of the file "build.bat" in the
base directory. You  need to provide the path to  the base directory, split
up  to  drive  and  directory  parts,  and  the  path  of  your  Erlang/OTP
installation.

  Please note that forward slashes must be used as separators in the paths!
  Using backslashes will make the generated configuration files unusable.


6. Run the batch file "build.bat"  in the base directory. This will compile
the neccessary  Erlang modules and  generates startup scripts.   After this
step,  you can  use  the generated  batch  file "runerl.bat"  to start  the
backend of the refatorer.

7. Update  your .emacs file to  load the interface part  of the refactorer.
The easiest way to  locate your .emacs file is to start  up Emacs, and open
the file  named "~/.emacs". You  need to append  the following line  to the
contents of the file:

  (load "c:/path/to/base/dir/load-refac.el")

where "c:/path/to/base/dir" is the full path of the base directory. You
need to restart Emacs for this setting to take effect.

8.  The  last  step to  complete  the  installation  is to  initialise  the
database. For this, you need to start up the refactorer:

 - run "runerl.bat", which starts the backend
 - then start Emacs, which will load the frontend

Refactoring operations  are accessible  only for Erlang  files, so  open an
arbitrary file with .erl extension (or  create a new, empty one). Then type
"C-c C-e  i" (or select Erlang->Refactor->Initialise database  in the menu)
to complete the installation. From this point, the refactorer is usable.
